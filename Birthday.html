<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HBD Adek! üéÄ</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Sacramento&family=Nunito:wght@700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #ffb7c5;
            --dark: #d46a84;
            --bg-gradient: linear-gradient(135deg, #fff0f3 0%, #ffe6ea 100%);
            --glass: rgba(255, 255, 255, 0.8); /* Dibuat sedikit lebih pekat biar teks terbaca */
            --shadow: 0 8px 32px 0 rgba(231, 84, 128, 0.15);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: var(--bg-gradient); font-family: 'Poppins', sans-serif; color: #5d4037; overflow-x: hidden; }

        /* --- BACKGROUND ANIMATION --- */
        .floating-bg { position: fixed; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
        .blob { position: absolute; border-radius: 50%; filter: blur(50px); opacity: 0.6; animation: float 10s infinite alternate; }
        .blob-1 { top: -10%; left: -10%; width: 300px; height: 300px; background: #ffc4d0; }
        .blob-2 { bottom: 10%; right: -5%; width: 250px; height: 250px; background: #ff9a9e; animation-delay: -5s; }
        @keyframes float { from { transform: translate(0,0); } to { transform: translate(30px, 50px); } }

        /* Container utama diberi jarak bawah lebih banyak */
        .container { max-width: 500px; margin: 0 auto; padding: 20px; padding-bottom: 150px; }

        /* --- GLASS CARD (Default state: HIDDEN untuk animasi) --- */
        .glass-card {
            background: var(--glass); 
            backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255,255,255,0.6); 
            border-radius: 24px; 
            padding: 25px; 
            margin-bottom: 40px;
            box-shadow: var(--shadow);
            
            /* STATE AWAL: Transparan & Turun sedikit */
            opacity: 0; 
            transform: translateY(50px); 
        }

        h1 { font-family: 'Sacramento', cursive; font-size: 3.5rem; color: var(--dark); line-height: 1.2; text-shadow: 2px 2px 0 rgba(255,255,255,0.5); }
        h2 { font-family: 'Nunito', sans-serif; color: var(--dark); margin-bottom: 15px; font-size: 1.4rem; }
        
        /* --- HERO SECTION (PERBAIKAN POSISI) --- */
        #hero { 
            height: 100vh; /* Full layar */
            width: 100%;   /* Pastikan lebar full */
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
            text-align: center; 
            position: relative;
        }
        
        .hero-img-box {
            width: 160px; 
            height: 160px; 
            padding: 5px; 
            background: white; 
            border-radius: 50%;
            box-shadow: 0 10px 20px rgba(212, 106, 132, 0.3); 
            margin: 0 auto 20px auto; /* Auto margin kiri-kanan biar tengah */
            display: flex;            /* Flexbox biar gambar di dalam juga tengah */
            justify-content: center;
            align-items: center;
        }
        
        .hero-img { 
            width: 100%; 
            height: 100%; 
            border-radius: 50%; 
            object-fit: cover; /* Biar gambar gak gepeng */
        }
        
        .scroll-hint { 
            position: absolute; 
            bottom: 40px; 
            animation: bounce 2s infinite; 
            opacity: 0.6; 
            width: 100%;
            text-align: center;
        }
        @keyframes bounce { 0%, 100% {transform: translateY(0);} 50% {transform: translateY(-10px);} }

        /* --- GALLERY SCROLL --- */
        .gallery-scroll {
            display: flex; overflow-x: auto; gap: 15px; padding: 10px 5px; scroll-behavior: smooth;
            -ms-overflow-style: none; scrollbar-width: none;
        }
        .gallery-scroll::-webkit-scrollbar { display: none; }
        .photo-card {
            min-width: 220px; height: 320px; border-radius: 15px; overflow: hidden; position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1); flex-shrink: 0; scroll-snap-align: center; background: #fff;
        }
        .photo-card img { width: 100%; height: 100%; object-fit: cover; }
        .caption {
            position: absolute; 
            bottom: 0; 
            left: 0; 
            width: 100%; 
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent); /* Efek bayangan hitam biar teks terbaca */
            color: white; 
            padding: 20px 10px 10px 10px; 
            font-size: 0.9rem;
            text-align: left;
        }

        /* --- TIMELINE --- */
        .timeline { border-left: 3px solid #ffc4d0; padding-left: 25px; margin-left: 10px; }
        .timeline-item { position: relative; margin-bottom: 30px; } 
        /* Timeline item awalnya hidden lewat JS nanti */
        .timeline-item::before {
            content: '‚ù§Ô∏è'; position: absolute; left: -36px; top: 0; background: #fff0f3; padding: 3px; border-radius: 50%; font-size: 14px; border: 2px solid #ffc4d0;
        }
        .date { font-size: 0.85rem; color: var(--dark); font-weight: 700; letter-spacing: 1px; }

        /* --- MOOD BUTTONS --- */
        .mood-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 15px; }
        .mood-btn {
            background: white; border: none; padding: 15px; border-radius: 15px; cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05); transition: 0.3s; color: var(--dark); font-weight: 600;
        }
        .mood-btn:hover { background: var(--primary); color: white; transform: scale(1.05); }

        .cake-box { text-align: center; cursor: pointer; transition: transform 0.2s; padding: 20px; }
        .cake-box:active { transform: scale(0.95); }
        .cake { font-size: 6rem; position: relative; display: inline-block; filter: drop-shadow(0 10px 10px rgba(0,0,0,0.1)); }
        .flame { position: absolute; top: -15px; left: 50%; transform: translateX(-50%); font-size: 2.5rem; animation: burn 1s infinite alternate; }
        @keyframes burn { from {opacity:1; transform:translateX(-50%) scale(1);} to {opacity:0.8; transform:translateX(-50%) scale(1.1);} }

        /* --- MUSIC FAB --- */
        .music-fab {
            position: fixed; bottom: 25px; right: 25px; width: 55px; height: 55px;
            background: white; border-radius: 50%; display: flex; justify-content: center; align-items: center;
            box-shadow: 0 5px 20px rgba(212, 106, 132, 0.4); cursor: pointer; z-index: 99; font-size: 1.4rem;
            border: 2px solid var(--primary); transition: transform 0.3s;
        }

        /* --- VOUCHER MODAL (POP UP) --- */
        .overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(5px);
            z-index: 999; display: none; /* Hidden by default */
            justify-content: center; align-items: center;
        }
        
        .voucher-card {
            background: linear-gradient(135deg, #fff0f3 0%, #fff 100%);
            width: 90%; max-width: 350px;
            padding: 20px; border-radius: 20px;
            border: 2px solid var(--primary);
            text-align: center; position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        /* Desain Garis Putus-putus Tiket */
        .voucher-border {
            border: 2px dashed var(--dark);
            border-radius: 15px; padding: 20px;
            background: white;
        }

        .barcode {
            height: 40px; background: #333; margin: 20px auto; width: 80%;
            mask: repeating-linear-gradient(90deg, #000 0px, #000 4px, transparent 4px, transparent 8px);
            -webkit-mask: repeating-linear-gradient(90deg, #000 0px, #000 4px, transparent 4px, transparent 8px);
        }

        .close-btn {
            margin-top: 15px; background: var(--dark); color: white; border: none;
            padding: 10px 25px; border-radius: 50px; cursor: pointer; font-weight: bold;
        }
    </style>
</head>
<body>

    <div class="floating-bg">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
    </div>
    <audio id="bgMusic" loop>
        <source src="lagu_ultah.mp3" type="audio/mp3">
    </audio>
    <div class="music-fab" onclick="toggleMusic()">üéµ</div>

    <section id="hero">
        <div class="hero-content">
            <div class="hero-img-box">
                <img src="https://via.placeholder.com/300" class="hero-img" alt="Foto Caca">
            </div>
            <h1 class="title-anim">Happy 20Th Birthday,<br>Sayang</h1>
            <p class="title-anim" style="margin-top: 10px; color: #888;">Selamat datang di level 20 üéÇ</p>
        </div>
        <div class="scroll-hint">Scroll ke bawah ya ‚¨áÔ∏è</div>
    </section>

    <div class="container">

        <div class="glass-card scroll-reveal">
            <h2>üì∏ Kenangan Kita</h2>
            <p style="font-size: 0.9rem; margin-bottom: 15px;">Geser ke samping ya...</p>
            
            <div class="gallery-scroll">
                
                <div class="photo-card">
                    <img src="https://via.placeholder.com/300x400/ffb7c5/ffffff?text=Foto+1"> <div class="caption">Waktu kita jalan-jalan pertama kali ‚ù§Ô∏è</div>
                </div>

                <div class="photo-card">
                    <img src="https://via.placeholder.com/300x400/ff9a9e/ffffff?text=Foto+2"> <div class="caption">Senyum kamu manis banget disini</div>
                </div>

                <div class="photo-card">
                    <img src="https://via.placeholder.com/300x400/d46a84/ffffff?text=Foto+3"> <div class="caption">Mode manja: ON ü•∫</div>
                </div>

                 <div class="photo-card">
                    <img src="https://via.placeholder.com/300x400/ffc4d0/ffffff?text=Foto+4"> <div class="caption">Semoga kita bareng terus ya!</div>
                </div>

            </div>
        </div>

        <div class="glass-card scroll-reveal" id="timeline-box">
            <h2>üë£ Perjalanan Kamu</h2>
            <br>
            <div class="timeline">
                <div class="timeline-item">
                    <div class="date">04 Feb 2006</div>
                    <p>Hari spesial dimana anak cantik ini lahir ke dunia.</p>
                </div>
                <div class="timeline-item">
                    <div class="date">14 Agustus 2024</div>
                    <p>Momen abang ketemu adek pertama kali.</p>
                </div>
                <div class="timeline-item">
                    <div class="date">Hari Ini (20 Th)</div>
                    <p>Selamat ulang tahun. Terima kasih sudah bertahan sejauh ini.</p>
                </div>
            </div>
        </div>

        <div class="glass-card scroll-reveal">
            <h2>üíå Surat Kecil buat Adek</h2>
            <div class="letter-content">
                <p>Hai Sayang, selamat ulang tahun ya...</p>
                
                <p>Abang tau, perjalanan sampai ke umur 20 ini ndaa mudah buat Adek. Jadi anak pertama itu bahunya harus kuat banget, ya?</p>
                
                <p>Abang tau kadang Adek capek karena situasi di rumah sering bikin Adek ngerasa "serba salah". Apapun yang Adek lakuin, rasanya selalu kurang atau salah di mata orang rumah. Pasti berat banget nahan itu sendirian.</p>
    
                <p>Tapi dengerin Abang ya sayang... <b>Adek itu ndaa salah.</b></p>
                
                <p>Sifat manja Adek, cerianya Adek, bahkan sensitifnya Adek, itu semua wajar. Jangan pernah ngerasa Adek "kebanyakan" atau "merepotkan". Justru itu semua yang bikin Abang sayang banget sama Adek.</p>
                
                <p>Terima kasih udah bertahan sekuat ini. Kalau dunia atau rumah lagi jahat sama Adek, lari ke Abang ya? Abang janji bakal jadi rumah yang nggak akan pernah nyalahin Adek.</p>
                
                <p>Sehat terus ya, Cantik. Abang bangga banget punya Adek.</p>
            </div>
        </div>

        <div class="glass-card scroll-reveal">
            <h2>üíä Kotak P3K Emosi</h2>
            <p>Klik tombol sesuai perasaan Adek:</p>
            <div class="mood-grid">
                <button class="mood-btn" onclick="showMood('marah')">üò§ Lagi Marah</button>
                <button class="mood-btn" onclick="showMood('sedih')">üò¢ Lagi Sedih</button>
                <button class="mood-btn" onclick="showMood('manja')">ü•∫ Lagi Manja</button>
                <button class="mood-btn" onclick="showMood('lapar')">ü§§ Lagi Lapar</button>
            </div>
            <div id="mood-result" style="display:none; margin-top:20px; text-align:center;">
                <img id="mood-img" src="" style="width:100%; border-radius:15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);">
                <p id="mood-text" style="font-weight:bold; margin-top:10px; color:var(--dark);"></p>
            </div>
        </div>

        <div class="glass-card scroll-reveal">
            <div class="cake-box" onclick="blowCandle()">
                <h2>üéÇ Make a Wish!</h2>
                <p style="font-size:0.9rem;">Pejamkan mata, doa, lalu <b>klik kue</b> buat tiup lilinnya.</p>
                <div style="margin-top: 30px;">
                    <div class="cake">üßÅ
                        <div class="flame" id="flame">üî•</div>
                    </div>
                </div>
                <div id="wish-msg" style="display:none; margin-top:20px;">
                    <h3 style="color:var(--dark)">YEAYYY! üéâ</h3>
                    <p>Semoga doa baiknya dikabulkan oleh Allah Swt. Aamiin.</p>
                </div>
            </div>
        </div>

        <div class="glass-card scroll-reveal" style="border: 2px dashed var(--dark); text-align:center;">
            <h2>üéÅ Hadiah Terakhir</h2>
            <p>Voucher Jajan Unlimited seumur hidup.</p>
            <button onclick="openVoucher()" style="margin-top:15px; background:var(--dark); color:white; border:none; padding:12px 30px; border-radius:50px; font-weight:bold; cursor:pointer;">KLAIM VOUCHER</button>
        </div>

    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        // 1. HERO ANIMATION (Fix: Pakai .to biar pasti muncul)
        gsap.from(".hero-img-box", {duration: 1.2, y: -50, opacity: 0, ease: "power2.out"});
        gsap.from(".title-anim", {duration: 1, y: 30, opacity: 0, stagger: 0.2, delay: 0.5});

        // 2. SCROLL REVEAL (LOGIC FIX: Menggunakan gsap.to dari opacity 0 ke 1)
        gsap.utils.toArray(".scroll-reveal").forEach(card => {
            gsap.to(card, {
                scrollTrigger: {
                    trigger: card,
                    start: "top 85%", // Animasi mulai saat elemen muncul sedikit di bawah layar
                    toggleActions: "play none none reverse"
                },
                opacity: 1,
                y: 0,
                duration: 1,
                ease: "power3.out"
            });
        });

        // 3. TIMELINE ITEMS (Stagger Effect)
        // Kita set opacity awal 0 lewat JS biar aman
        gsap.set(".timeline-item", {opacity: 0, x: -20});
        
        gsap.to(".timeline-item", {
            scrollTrigger: {
                trigger: "#timeline-box",
                start: "top 75%",
            },
            opacity: 1,
            x: 0,
            duration: 0.8,
            stagger: 0.3
        });

        // --- INTERACTIVITY ---
        function showMood(mood) {
            const box = document.getElementById('mood-result');
            const img = document.getElementById('mood-img');
            const txt = document.getElementById('mood-text');
            
            box.style.display = 'block';
            gsap.from(box, {duration: 0.5, scale: 0.5, opacity: 0, ease: "back.out"});

            // GANTI LINK GIF DI SINI BANG
            if(mood === 'marah') {
                img.src = "https://media.giphy.com/media/l1J9u3TZfpmeDLkD6/giphy.gif"; 
                txt.innerText = "Sabar cantik... Tarik napas... Mwah!";
            } else if(mood === 'sedih') {
                img.src = "https://media.giphy.com/media/3oEdv4hwWTzBhWvaU0/giphy.gif"; 
                txt.innerText = "Sini peluk Abang dulu virtual ü§ó";
            } else if(mood === 'manja') {
                img.src = "https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif"; 
                txt.innerText = "Utututu bayi besarku...";
            } else if(mood === 'lapar') {
                img.src = "https://media.giphy.com/media/He4wudo59enf2/giphy.gif"; 
                txt.innerText = "Siap laksanakan! OTW gofood!";
            }
        }

        function blowCandle() {
            const flame = document.getElementById('flame');
            const msg = document.getElementById('wish-msg');
            
            // Logika baru: Cek apakah pesan ucapan belum muncul
            if (msg.style.display === 'none' || msg.style.display === '') {
                
                // 1. Matikan Api
                gsap.to(flame, {opacity: 0, duration: 0.5, scale: 0});
                
                // 2. Munculkan Pesan Harapan
                msg.style.display = "block";
                gsap.from(msg, {y: 20, opacity: 0, duration: 1, ease: "elastic.out"});
                
                // 3. (Opsional) Putar efek suara tiup kalau ada, atau alert kecil
                // alert("Huuuh! üå¨Ô∏è"); 
            }
        }

        function toggleMusic() {
            const audio = document.getElementById('bgMusic');
            const btn = document.querySelector('.music-fab');
            if(audio.paused) { audio.play(); btn.innerText = "üîá"; }
            else { audio.pause(); btn.innerText = "üéµ"; }
        }

        // --- LOGIKA VOUCHER POPUP ---
        
        // 1. Fungsi Buka Voucher (Ganti alert yang lama dengan ini)
        function openVoucher() {
            const overlay = document.getElementById('voucherOverlay');
            const card = document.querySelector('.voucher-card');
            
            overlay.style.display = 'flex'; // Munculkan layar hitam
            
            // Animasi Pop Up (Boing!)
            gsap.fromTo(card, 
                {scale: 0, opacity: 0}, 
                {scale: 1, opacity: 1, duration: 0.6, ease: "elastic.out(1, 0.5)"}
            );
            
            // Efek Confetti (Opsional tapi keren kalau mau ditambahin)
            // confetti(); 
        }

        // 2. Fungsi Tutup Voucher
        function closeVoucher() {
            const overlay = document.getElementById('voucherOverlay');
            overlay.style.display = 'none';
        }
    </script>

<div id="voucherOverlay" class="overlay">
    <div class="voucher-card">
        <div class="voucher-border">
            <h2 style="color:var(--dark); font-family:'Nunito';">üéüÔ∏è GOLDEN TICKET</h2>
            <hr style="border: 1px dashed #ccc; margin: 10px 0;">
            <h1 style="font-size: 2rem; margin: 15px 0;">UNLIMITED JAJAN</h1>
            <p style="font-size: 0.9rem; color: #666;">Valid untuk: <b>Kesayangan Abang</b></p>
            <p style="font-size: 0.9rem; color: #666;">Exp: <b>SELAMANYA</b></p>
            
            <div class="barcode"></div>
            <p style="font-size: 0.7rem; letter-spacing: 2px;">04022026-LOVE</p>
        </div>
        <button class="close-btn" onclick="closeVoucher()">Tutup & Screenshot üì∏</button>
    </div>
</div>

</body>
</html>